<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TpSimplePasswordManager: telepathy-glib API Reference Manual</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="index.html" title="telepathy-glib API Reference Manual">
<link rel="up" href="ch-service-base.html" title="Service-side implementation">
<link rel="prev" href="telepathy-glib-base-password-channel.html" title="TpBasePasswordChannel">
<link rel="next" href="telepathy-glib-base-client.html" title="TpBaseClient">
<meta name="generator" content="GTK-Doc V1.32 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#telepathy-glib-simple-password-manager.description" class="shortcut">Description</a></span><span id="nav_hierarchy">  <span class="dim">|</span> 
                  <a href="#telepathy-glib-simple-password-manager.object-hierarchy" class="shortcut">Object Hierarchy</a></span><span id="nav_interfaces">  <span class="dim">|</span> 
                  <a href="#telepathy-glib-simple-password-manager.implemented-interfaces" class="shortcut">Implemented Interfaces</a></span><span id="nav_properties">  <span class="dim">|</span> 
                  <a href="#telepathy-glib-simple-password-manager.properties" class="shortcut">Properties</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="ch-service-base.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="telepathy-glib-base-password-channel.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="telepathy-glib-base-client.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="telepathy-glib-simple-password-manager"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="telepathy-glib-simple-password-manager.top_of_page"></a>TpSimplePasswordManager</span></h2>
<p>TpSimplePasswordManager — a simple X-TELEPATHY-PASSWORD channel manager</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="telepathy-glib-simple-password-manager.functions"></a><h2>Functions</h2>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="functions_proto_type">
<col class="functions_proto_name">
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a class="link" href="telepathy-glib-simple-password-manager.html#TpSimplePasswordManager"><span class="returnvalue">TpSimplePasswordManager</span></a> *
</td>
<td class="function_name">
<a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-new" title="tp_simple_password_manager_new ()">tp_simple_password_manager_new</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-async" title="tp_simple_password_manager_prompt_async ()">tp_simple_password_manager_prompt_async</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">const <span class="returnvalue">GString</span> *
</td>
<td class="function_name">
<a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-finish" title="tp_simple_password_manager_prompt_finish ()">tp_simple_password_manager_prompt_finish</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-for-channel-async" title="tp_simple_password_manager_prompt_for_channel_async ()">tp_simple_password_manager_prompt_for_channel_async</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">const <span class="returnvalue">GString</span> *
</td>
<td class="function_name">
<a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-for-channel-finish" title="tp_simple_password_manager_prompt_for_channel_finish ()">tp_simple_password_manager_prompt_for_channel_finish</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="telepathy-glib-simple-password-manager.properties"></a><h2>Properties</h2>
<div class="informaltable"><table class="informaltable" border="0">
<colgroup>
<col width="150px" class="properties_type">
<col width="300px" class="properties_name">
<col width="200px" class="properties_flags">
</colgroup>
<tbody><tr>
<td class="property_type">
<a class="link" href="TpBaseConnection.html" title="TpBaseConnection"><span class="type">TpBaseConnection</span></a> *</td>
<td class="property_name"><a class="link" href="telepathy-glib-simple-password-manager.html#TpSimplePasswordManager--connection" title="The “connection” property">connection</a></td>
<td class="property_flags">Read / Write / Construct Only</td>
</tr></tbody>
</table></div>
</div>
<a name="TpSimplePasswordManager"></a><div class="refsect1">
<a name="telepathy-glib-simple-password-manager.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="other_proto_type">
<col class="other_proto_name">
</colgroup>
<tbody><tr>
<td class="datatype_keyword">struct</td>
<td class="function_name"><a class="link" href="telepathy-glib-simple-password-manager.html#TpSimplePasswordManager-struct" title="struct TpSimplePasswordManager">TpSimplePasswordManager</a></td>
</tr></tbody>
</table></div>
</div>
<div class="refsect1">
<a name="telepathy-glib-simple-password-manager.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="screen">    GObject
    <span class="lineart">╰──</span> TpSimplePasswordManager
</pre>
</div>
<div class="refsect1">
<a name="telepathy-glib-simple-password-manager.implemented-interfaces"></a><h2>Implemented Interfaces</h2>
<p>
TpSimplePasswordManager implements
 <a class="link" href="TpChannelManager.html" title="TpChannelManager">TpChannelManager</a>.</p>
</div>
<div class="refsect1">
<a name="telepathy-glib-simple-password-manager.includes"></a><h2>Includes</h2>
<pre class="synopsis">#include &lt;telepathy-glib/telepathy-glib.h&gt;
</pre>
</div>
<div class="refsect1">
<a name="telepathy-glib-simple-password-manager.description"></a><h2>Description</h2>
<p>This class makes it easy to implement the X-TELEPATHY-PASSWORD SASL
mechanism in a connection manger. It implements the
<a class="link" href="TpChannelManager.html" title="TpChannelManager"><span class="type">TpChannelManager</span></a> interface and pops up a ServerAuthentication
channel when <a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-async" title="tp_simple_password_manager_prompt_async ()"><code class="function">tp_simple_password_manager_prompt_async()</code></a> is called to
enable a channel handler to pass in the password using the
appropriate D-Bus methods.</p>
<p>This channel manager is only useful for connection managers only
wanting to implement the X-TELEPATHY-PASSWORD SASL mechanism in
authentication channels. For connections with more SASL mechanisms,
the channel manager and channel itself should be reimplemented to
support the desired mechanisms.</p>
<p>A new <a class="link" href="telepathy-glib-simple-password-manager.html#TpSimplePasswordManager"><span class="type">TpSimplePasswordManager</span></a> object should be created in the
<a class="link" href="TpBaseConnection.html#TpBaseConnectionClass" title="struct TpBaseConnectionClass"><span class="type">TpBaseConnectionClass</span></a>-&gt;create_channel_managers implementation and
added to the <span class="type">GPtrArray</span> of channel managers. Then, in the
<a class="link" href="TpBaseConnection.html#TpBaseConnectionClass" title="struct TpBaseConnectionClass"><span class="type">TpBaseConnectionClass</span></a>-&gt;start_connecting implementation, once the
connection status has been changed to CONNECTING, the connection
should check whether a password parameter was given when creating
the connection through RequestConnection. If a password is present,
the connection should go ahead and use it. If it is not present,
<a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-async" title="tp_simple_password_manager_prompt_async ()"><code class="function">tp_simple_password_manager_prompt_async()</code></a> should be called.</p>
<p>Once a password is retrieved using the server authentication
channel, or an error is occurred, the callback that was passed to
<a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-async" title="tp_simple_password_manager_prompt_async ()"><code class="function">tp_simple_password_manager_prompt_async()</code></a> is called and the
connection should call <a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-finish" title="tp_simple_password_manager_prompt_finish ()"><code class="function">tp_simple_password_manager_prompt_finish()</code></a>
to get the result of the process. If the <span class="type">GString</span> returned from
said finish function is non-<span class="type">NULL</span>, the connection can then proceed
with that password, otherwise the connection must deal with the
error reached.</p>
</div>
<div class="refsect1">
<a name="telepathy-glib-simple-password-manager.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="tp-simple-password-manager-new"></a><h3>tp_simple_password_manager_new ()</h3>
<pre class="programlisting"><a class="link" href="telepathy-glib-simple-password-manager.html#TpSimplePasswordManager"><span class="returnvalue">TpSimplePasswordManager</span></a> *
tp_simple_password_manager_new (<em class="parameter"><code><a class="link" href="TpBaseConnection.html" title="TpBaseConnection"><span class="type">TpBaseConnection</span></a> *connection</code></em>);</pre>
<p>Creates a new simple server authentication channel manager.</p>
<div class="refsect3">
<a name="tp-simple-password-manager-new.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>connection</p></td>
<td class="parameter_description"><p>a <a class="link" href="TpBaseConnection.html" title="TpBaseConnection"><span class="type">TpBaseConnection</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="tp-simple-password-manager-new.returns"></a><h4>Returns</h4>
<p> a new reference to a server authentication channel
manager.</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="tp-simple-password-manager-prompt-async"></a><h3>tp_simple_password_manager_prompt_async ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
tp_simple_password_manager_prompt_async
                               (<em class="parameter"><code><a class="link" href="telepathy-glib-simple-password-manager.html#TpSimplePasswordManager"><span class="type">TpSimplePasswordManager</span></a> *self</code></em>,
                                <em class="parameter"><code><span class="type">GAsyncReadyCallback</span> callback</code></em>,
                                <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
<p>Pops up a new server authentication channel and handles the
X-TELEPATHY-PASSWORD mechanism to obtain a password for the
connection.</p>
<p>When the operation is finished, <em class="parameter"><code>callback</code></em>
 will be called. You must then
call <a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-finish" title="tp_simple_password_manager_prompt_finish ()"><code class="function">tp_simple_password_manager_prompt_finish()</code></a> to get the
result of the request.</p>
<div class="refsect3">
<a name="tp-simple-password-manager-prompt-async.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>a <a class="link" href="telepathy-glib-simple-password-manager.html#TpSimplePasswordManager"><span class="type">TpSimplePasswordManager</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>callback</p></td>
<td class="parameter_description"><p>a callback to call when the request is satisfied</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>data to pass to <em class="parameter"><code>callback</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: 0.13.8</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-simple-password-manager-prompt-finish"></a><h3>tp_simple_password_manager_prompt_finish ()</h3>
<pre class="programlisting">const <span class="returnvalue">GString</span> *
tp_simple_password_manager_prompt_finish
                               (<em class="parameter"><code><a class="link" href="telepathy-glib-simple-password-manager.html#TpSimplePasswordManager"><span class="type">TpSimplePasswordManager</span></a> *self</code></em>,
                                <em class="parameter"><code><span class="type">GAsyncResult</span> *result</code></em>,
                                <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>Retrieve the value of the request begun with
<a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-async" title="tp_simple_password_manager_prompt_async ()"><code class="function">tp_simple_password_manager_prompt_async()</code></a>.</p>
<div class="refsect3">
<a name="tp-simple-password-manager-prompt-finish.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>a <a class="link" href="telepathy-glib-simple-password-manager.html#TpSimplePasswordManager"><span class="type">TpSimplePasswordManager</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>result</p></td>
<td class="parameter_description"><p>a <span class="type">GAsyncResult</span></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>a <span class="type">GError</span> to fill</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="tp-simple-password-manager-prompt-finish.returns"></a><h4>Returns</h4>
<p>a <span class="type">GString</span> with the password (or byte-blob)
retrieved by <em class="parameter"><code>manager</code></em>
. </p>
<p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p>
</div>
<p class="since">Since: 0.13.8</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-simple-password-manager-prompt-for-channel-async"></a><h3>tp_simple_password_manager_prompt_for_channel_async ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
tp_simple_password_manager_prompt_for_channel_async
                               (<em class="parameter"><code><a class="link" href="telepathy-glib-simple-password-manager.html#TpSimplePasswordManager"><span class="type">TpSimplePasswordManager</span></a> *self</code></em>,
                                <em class="parameter"><code><a class="link" href="telepathy-glib-base-password-channel.html#TpBasePasswordChannel"><span class="type">TpBasePasswordChannel</span></a> *channel</code></em>,
                                <em class="parameter"><code><span class="type">GAsyncReadyCallback</span> callback</code></em>,
                                <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
<p>Pops up a new server authentication channel and handles the
X-TELEPATHY-PASSWORD mechanism to obtain a password for the
connection.</p>
<p>When the operation is finished, <em class="parameter"><code>callback</code></em>
 will be called. You must then
call <a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-for-channel-finish" title="tp_simple_password_manager_prompt_for_channel_finish ()"><code class="function">tp_simple_password_manager_prompt_for_channel_finish()</code></a> to get the
result of the request.</p>
<p>Most of the time, <a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-async" title="tp_simple_password_manager_prompt_async ()"><code class="function">tp_simple_password_manager_prompt_async()</code></a> should be used
instead.  This function enables applications to provide custom channels
instead of letting the password manager handle all of the channel details
automatically.  This may be useful if your SASL channel needs to implement
additional interfaces (such as Channel.Interface.CredentialsStorage)</p>
<div class="refsect3">
<a name="tp-simple-password-manager-prompt-for-channel-async.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>a <a class="link" href="telepathy-glib-simple-password-manager.html#TpSimplePasswordManager"><span class="type">TpSimplePasswordManager</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>channel</p></td>
<td class="parameter_description"><p>a <a class="link" href="telepathy-glib-base-password-channel.html#TpBasePasswordChannel"><span class="type">TpBasePasswordChannel</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>callback</p></td>
<td class="parameter_description"><p>a callback to call when the request is satisfied</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>data to pass to <em class="parameter"><code>callback</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: 0.13.15</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-simple-password-manager-prompt-for-channel-finish"></a><h3>tp_simple_password_manager_prompt_for_channel_finish ()</h3>
<pre class="programlisting">const <span class="returnvalue">GString</span> *
tp_simple_password_manager_prompt_for_channel_finish
                               (<em class="parameter"><code><a class="link" href="telepathy-glib-simple-password-manager.html#TpSimplePasswordManager"><span class="type">TpSimplePasswordManager</span></a> *self</code></em>,
                                <em class="parameter"><code><span class="type">GAsyncResult</span> *result</code></em>,
                                <em class="parameter"><code><a class="link" href="telepathy-glib-base-password-channel.html#TpBasePasswordChannel"><span class="type">TpBasePasswordChannel</span></a> **channel</code></em>,
                                <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>Retrieve the value of the request begun with
<a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-for-channel-async" title="tp_simple_password_manager_prompt_for_channel_async ()"><code class="function">tp_simple_password_manager_prompt_for_channel_async()</code></a>.</p>
<div class="refsect3">
<a name="tp-simple-password-manager-prompt-for-channel-finish.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>a <a class="link" href="telepathy-glib-simple-password-manager.html#TpSimplePasswordManager"><span class="type">TpSimplePasswordManager</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>result</p></td>
<td class="parameter_description"><p>a <span class="type">GAsyncResult</span></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>channel</p></td>
<td class="parameter_description"><p>an output location to retrieve the custom
password channel that was passed to
<a class="link" href="telepathy-glib-simple-password-manager.html#tp-simple-password-manager-prompt-for-channel-async" title="tp_simple_password_manager_prompt_for_channel_async ()"><code class="function">tp_simple_password_manager_prompt_for_channel_async()</code></a>. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>a <span class="type">GError</span> to fill</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="tp-simple-password-manager-prompt-for-channel-finish.returns"></a><h4>Returns</h4>
<p>a <span class="type">GString</span> with the password (or byte-blob)
retrieved by <em class="parameter"><code>manager</code></em>
. </p>
<p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p>
</div>
<p class="since">Since: 0.13.15</p>
</div>
</div>
<div class="refsect1">
<a name="telepathy-glib-simple-password-manager.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="TpSimplePasswordManager-struct"></a><h3>struct TpSimplePasswordManager</h3>
<pre class="programlisting">struct TpSimplePasswordManager;</pre>
<p>A helper channel manager to manage X-TELEPATHY-PASSWORD
ServerAuthentication channels.</p>
<p class="since">Since: 0.13.8</p>
</div>
</div>
<div class="refsect1">
<a name="telepathy-glib-simple-password-manager.property-details"></a><h2>Property Details</h2>
<div class="refsect2">
<a name="TpSimplePasswordManager--connection"></a><h3>The <code class="literal">“connection”</code> property</h3>
<pre class="programlisting">  “connection”               <a class="link" href="TpBaseConnection.html" title="TpBaseConnection"><span class="type">TpBaseConnection</span></a> *</pre>
<p>The connection object that owns this channel manager.</p>
<p>Owner: TpSimplePasswordManager</p>
<p>Flags: Read / Write / Construct Only</p>
</div>
</div>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.32</div>
</body>
</html>