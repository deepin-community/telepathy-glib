<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TpExportableChannel: telepathy-glib API Reference Manual</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="index.html" title="telepathy-glib API Reference Manual">
<link rel="up" href="ch-service-base.html" title="Service-side implementation">
<link rel="prev" href="telepathy-glib-dbus-properties-mixin.html" title="TpDBusPropertiesMixin">
<link rel="next" href="TpBaseChannel.html" title="TpBaseChannel">
<meta name="generator" content="GTK-Doc V1.32 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#TpExportableChannel.description" class="shortcut">Description</a></span><span id="nav_hierarchy">  <span class="dim">|</span> 
                  <a href="#TpExportableChannel.object-hierarchy" class="shortcut">Object Hierarchy</a></span><span id="nav_prerequisites">  <span class="dim">|</span> 
                  <a href="#TpExportableChannel.prerequisites" class="shortcut">Prerequisites</a></span><span id="nav_implementations">  <span class="dim">|</span> 
                  <a href="#TpExportableChannel.implementations" class="shortcut">Known Implementations</a></span><span id="nav_properties">  <span class="dim">|</span> 
                  <a href="#TpExportableChannel.properties" class="shortcut">Properties</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="ch-service-base.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="telepathy-glib-dbus-properties-mixin.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="TpBaseChannel.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="TpExportableChannel"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="TpExportableChannel.top_of_page"></a>TpExportableChannel</span></h2>
<p>TpExportableChannel — interface representing channels with several standard
properties</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="TpExportableChannel.functions"></a><h2>Functions</h2>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="functions_proto_type">
<col class="functions_proto_name">
</colgroup>
<tbody><tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<span class="c_punctuation">(</span><a class="link" href="TpExportableChannel.html#TpExportableChannelFunc" title="TpExportableChannelFunc ()">*TpExportableChannelFunc</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
</td>
</tr></tbody>
</table></div>
</div>
<div class="refsect1">
<a name="TpExportableChannel.properties"></a><h2>Properties</h2>
<div class="informaltable"><table class="informaltable" border="0">
<colgroup>
<col width="150px" class="properties_type">
<col width="300px" class="properties_name">
<col width="200px" class="properties_flags">
</colgroup>
<tbody>
<tr>
<td class="property_type"><span class="type">gboolean</span></td>
<td class="property_name"><a class="link" href="TpExportableChannel.html#TpExportableChannel--channel-destroyed" title="The “channel-destroyed” property">channel-destroyed</a></td>
<td class="property_flags">Read</td>
</tr>
<tr>
<td class="property_type"><span class="type">GHashTable_gchararray+GValue_*</span></td>
<td class="property_name"><a class="link" href="TpExportableChannel.html#TpExportableChannel--channel-properties" title="The “channel-properties” property">channel-properties</a></td>
<td class="property_flags">Read</td>
</tr>
<tr>
<td class="property_type">
<span class="type">gchar</span> *</td>
<td class="property_name"><a class="link" href="TpExportableChannel.html#TpExportableChannel--object-path" title="The “object-path” property">object-path</a></td>
<td class="property_flags">Read / Write / Construct Only</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="TpExportableChannel.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="other_proto_type">
<col class="other_proto_name">
</colgroup>
<tbody>
<tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a class="link" href="TpExportableChannel.html#TpExportableChannel-struct" title="TpExportableChannel">TpExportableChannel</a></td>
</tr>
<tr>
<td class="datatype_keyword">struct</td>
<td class="function_name"><a class="link" href="TpExportableChannel.html#TpExportableChannelIface" title="struct TpExportableChannelIface">TpExportableChannelIface</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="TpExportableChannel.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="screen">    <a href="/usr/share/gtk-doc/html/gobject/GTypeModule.html">GInterface</a>
    <span class="lineart">╰──</span> TpExportableChannel
</pre>
</div>
<div class="refsect1">
<a name="TpExportableChannel.prerequisites"></a><h2>Prerequisites</h2>
<p>
TpExportableChannel requires
 <a class="link" href="telepathy-glib-svc-channel.html#TpSvcChannel">TpSvcChannel</a>.</p>
</div>
<div class="refsect1">
<a name="TpExportableChannel.implementations"></a><h2>Known Implementations</h2>
<p>
TpExportableChannel is implemented by
 <a class="link" href="TpBaseCallChannel.html" title="TpBaseCallChannel">TpBaseCallChannel</a>,  <a class="link" href="TpBaseChannel.html" title="TpBaseChannel">TpBaseChannel</a>,  <a class="link" href="TpBaseMediaCallChannel.html" title="TpBaseMediaCallChannel">TpBaseMediaCallChannel</a> and  <a class="link" href="telepathy-glib-base-password-channel.html#TpBasePasswordChannel">TpBasePasswordChannel</a>.</p>
</div>
<div class="refsect1">
<a name="TpExportableChannel.includes"></a><h2>Includes</h2>
<pre class="synopsis">#include &lt;telepathy-glib/telepathy-glib.h&gt;
</pre>
</div>
<div class="refsect1">
<a name="TpExportableChannel.description"></a><h2>Description</h2>
<p>This interface defines a set of channel properties on top of those of
<a class="link" href="TpChannelIface.html" title="TpChannelIface"><span class="type">TpChannelIface</span></a>. It's mainly used by <a class="link" href="TpChannelManager.html" title="TpChannelManager"><span class="type">TpChannelManager</span></a> to represent the
returned and managed channel objects.</p>
</div>
<div class="refsect1">
<a name="TpExportableChannel.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="TpExportableChannelFunc"></a><h3>TpExportableChannelFunc ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
<span class="c_punctuation">(</span>*TpExportableChannelFunc<span class="c_punctuation">)</span> (<em class="parameter"><code><a class="link" href="TpExportableChannel.html" title="TpExportableChannel"><span class="type">TpExportableChannel</span></a> *channel</code></em>,
                            <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
<p>A callback for functions which act on exportable channels.</p>
<div class="refsect3">
<a name="TpExportableChannelFunc.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>channel</p></td>
<td class="parameter_description"><p>An object implementing the exportable channel interface</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>Arbitrary user-supplied data</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="refsect1">
<a name="TpExportableChannel.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="TpExportableChannel-struct"></a><h3>TpExportableChannel</h3>
<pre class="programlisting">typedef struct _TpExportableChannel TpExportableChannel;</pre>
<p>Opaque typedef representing a channel with several standard properties.</p>
</div>
<hr>
<div class="refsect2">
<a name="TpExportableChannelIface"></a><h3>struct TpExportableChannelIface</h3>
<pre class="programlisting">struct TpExportableChannelIface {
    GTypeInterface parent;
};
</pre>
<p>The interface for <a class="link" href="TpExportableChannel.html" title="TpExportableChannel"><span class="type">TpExportableChannel</span></a> objects.</p>
<div class="refsect3">
<a name="TpExportableChannelIface.members"></a><h4>Members</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="300px" class="struct_members_name">
<col class="struct_members_description">
<col width="200px" class="struct_members_annotations">
</colgroup>
<tbody><tr>
<td class="struct_member_name"><p><span class="type">GTypeInterface</span> <em class="structfield"><code><a name="TpExportableChannelIface.parent"></a>parent</code></em>;</p></td>
<td class="struct_member_description"><p>The parent interface</p></td>
<td class="struct_member_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
</div>
<div class="refsect1">
<a name="TpExportableChannel.property-details"></a><h2>Property Details</h2>
<div class="refsect2">
<a name="TpExportableChannel--channel-destroyed"></a><h3>The <code class="literal">“channel-destroyed”</code> property</h3>
<pre class="programlisting">  “channel-destroyed”        <span class="type">gboolean</span></pre>
<p>If true, the closed signal on the Channel interface indicates that
the channel can go away.</p>
<p>If false, the closed signal indicates to the channel manager that the
channel should appear to go away and be re-created, by emitting Closed
followed by NewChannel. (This is to support the "respawning" of  Text
channels which are closed with unacknowledged messages.)</p>
<p>Owner: TpExportableChannel</p>
<p>Flags: Read</p>
<p>Default value: FALSE</p>
</div>
<hr>
<div class="refsect2">
<a name="TpExportableChannel--channel-properties"></a><h3>The <code class="literal">“channel-properties”</code> property</h3>
<pre class="programlisting">  “channel-properties”       <span class="type">GHashTable_gchararray+GValue_*</span></pre>
<p>The D-Bus properties to be announced in the NewChannels signal
and in the Channels property, as a map from
interface.name.propertyname to GValue.</p>
<p>A channel's immutable properties are constant for its lifetime on the
bus, so this property should only change when the closed signal is
emitted (so that respawned channels can reappear on the bus with
different properties).  All of the D-Bus properties mentioned here
should be exposed through the D-Bus properties interface; additional
(possibly mutable) properties not included here may also be exposed
via the D-Bus properties interface.</p>
<p>If the channel implementation uses</p>
<a class="link" href="telepathy-glib-dbus-properties-mixin.html" title="TpDBusPropertiesMixin">TpDBusPropertiesMixin</a>,
<p>this property can implemented using
<a class="link" href="telepathy-glib-dbus-properties-mixin.html#tp-dbus-properties-mixin-make-properties-hash" title="tp_dbus_properties_mixin_make_properties_hash ()"><code class="function">tp_dbus_properties_mixin_make_properties_hash()</code></a> as follows:</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="k">case</span> <span class="nl">PROP_CHANNEL_PROPERTIES</span><span class="p">:</span>
  <span class="n">g_value_take_boxed</span> <span class="p">(</span><span class="n">value</span><span class="p">,</span>
    <span class="n">tp_dbus_properties_mixin_make_properties_hash</span> <span class="p">(</span><span class="n">object</span><span class="p">,</span>
        <span class="c1">// The spec says these properties MUST be included:</span>
        <span class="n">TP_IFACE_CHANNEL</span><span class="p">,</span> <span class="s">&quot;TargetHandle&quot;</span><span class="p">,</span>
        <span class="n">TP_IFACE_CHANNEL</span><span class="p">,</span> <span class="s">&quot;TargetHandleType&quot;</span><span class="p">,</span>
        <span class="n">TP_IFACE_CHANNEL</span><span class="p">,</span> <span class="s">&quot;ChannelType&quot;</span><span class="p">,</span>
        <span class="n">TP_IFACE_CHANNEL</span><span class="p">,</span> <span class="s">&quot;TargetID&quot;</span><span class="p">,</span>
        <span class="n">TP_IFACE_CHANNEL</span><span class="p">,</span> <span class="s">&quot;Requested&quot;</span><span class="p">,</span>
        <span class="c1">// These aren&#39;t mandatory as of spec 0.17.17</span>
        <span class="c1">// (but they should be):</span>
        <span class="n">TP_IFACE_CHANNEL</span><span class="p">,</span> <span class="s">&quot;InitiatorHandle&quot;</span><span class="p">,</span>
        <span class="n">TP_IFACE_CHANNEL</span><span class="p">,</span> <span class="s">&quot;InitiatorID&quot;</span><span class="p">,</span>
        <span class="n">TP_IFACE_CHANNEL</span><span class="p">,</span> <span class="s">&quot;Interfaces&quot;</span><span class="p">,</span>
        <span class="c1">// Perhaps your channel has some other immutable properties:</span>
        <span class="n">TP_IFACE_CHANNEL_INTERFACE_MESSAGES</span><span class="p">,</span> <span class="s">&quot;SupportedContentTypes&quot;</span><span class="p">,</span>
        <span class="c1">// etc.</span>
        <span class="nb">NULL</span><span class="p">));</span>
  <span class="k">break</span><span class="p">;</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>Owner: TpExportableChannel</p>
<p>Flags: Read</p>
</div>
<hr>
<div class="refsect2">
<a name="TpExportableChannel--object-path"></a><h3>The <code class="literal">“object-path”</code> property</h3>
<pre class="programlisting">  “object-path”              <span class="type">gchar</span> *</pre>
<p>The D-Bus object path used for this object on the bus. Read-only
except during construction.</p>
<p>Owner: TpExportableChannel</p>
<p>Flags: Read / Write / Construct Only</p>
<p>Default value: NULL</p>
</div>
</div>
<div class="refsect1">
<a name="TpExportableChannel.see-also"></a><h2>See Also</h2>
<p><a class="link" href="TpChannelIface.html" title="TpChannelIface"><span class="type">TpChannelIface</span></a>, <a class="link" href="TpChannelManager.html" title="TpChannelManager"><span class="type">TpChannelManager</span></a>, <a class="link" href="telepathy-glib-svc-channel.html#TpSvcChannel"><span class="type">TpSvcChannel</span></a></p>
</div>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.32</div>
</body>
</html>